(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAI0lEQVR42mNgwA3+45P4j03Ff3TJ/9gk0AX+Y7MLpwRO1wEA1lcU7C7/FKUAAAAASUVORK5CYII="},,,,,function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAVElEQVR42mNgwA3+Y8FEA7CG//8xMbGGYdWMwzDyDcBnEEkG4DIIq9+JFMPuCmINQTaILK8MEUMIGUp04OJLsURHMVoSJxgzVE2xVMs7VMvFZJUnADl0GwKMOgB1AAAAAElFTkSuQmCC"},,,,,,,,,function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAWklEQVR42mNgwA3+Y8FEA7CG//8xMbGGYdWMwzDyDcBnEIokMo1PHN0grBqw2Y7LNQRtJCROcljgCptBbgi2FEsoqimOHazpBJ/ziUpwdEn6RGVCSnMxWeUJAHw0FwbXaXdOAAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAZ0lEQVR42q2U0Q4AEAhF+28fn/FgmXuT0taD7B5SEeGmwMM2BaqnR2FQTGB5gAd6AjAQyps6grgAL25Ba4EEXmyDWHJr52kWNPZRyVOPCtOpQgRdnQlCJb5V6mvDlVs/NITVKU79Jx0lUucVtHPCpwAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAbklEQVR42rWUgQ7AEAxEfbo/77ItXcTuziEkjWj14ahSeAtgdnsSIv7mwmAyga0DFOgL1vpOuPs2Cfl7EDo30wNChisqf4KmtGDanIUwfWxIapATey2G4mZQjeUVz+xEPjhHk+2nbxXhbhUv/ScXq9MFJP/q1DsAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVR42mNgAAIAAAUAAen63NgAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgGAng/38IpkgzWQYgaybZAHTNA+OFIW4AtkAkySCKDRhKAAB8jU+x6ZwbNAAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVR42mNgGIagmuE/XkyRZoKG4FNEtCvIMZwkb1EUmLTVSJFzaRKNZCemIQcA2OFf+6sS8JAAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgGF7gPxARwhQbQNAQYgynjwEUO5+q/qdfGFAcjTRLA4MbAACQL3uF13XmMAAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJ0lEQVR42mNgGK6g+j8CY+PT1gBsiulnALJCfJh2BpDirZFmwGAGAE2EUrFtzr/cAAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJklEQVR42mNgGF6gmoHhPzGYPgZQ7AWahQFtA5Fu3hvYdMAw/AAAgjlnXUQq77YAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKklEQVR42mNgGIaguvo/XkyRZpIMoNj5NPE/VcIAryH4FNHfAJqFw/ADANeOjOlonwSHAAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVR42mNgGHbgP5GYdgYQazj9DRi1fSCjbggAADl0K9Xj0B5TAAAAAElFTkSuQmCC"},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALElEQVR42mNgGH6gurr6Pz5MkWaChuBTRB8DKA4DqgbiwIQBxdFIlUAcegAAKVC5Qc8U50QAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVR42mNgGN7gPxD9B1NkaiTLAHTN9HcBVcIA05wBMuA/GiZbI8kGUWzAEAMA9m03yW7foZAAAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAN0lEQVR42mNgGArgP90N+I9Eo2OiDfyPBxOnGQbIMYRsA/6Tgck2iOwA/E+3WKA4HQxsUiYJAAAf1lyk4ulhiwAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAQ0lEQVR42mNgoAb4D0TkYoIGMNDdAAYkGh1jMxCrCxjwYKJcAFYIBYQMoZ4BDGRgvC4gNhyobwBVYoHidDCwSZlUDABNhnuTt8N6swAAAABJRU5ErkJggg=="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVklEQVR42tVSQQ4AIAjy/5+mdfBQoTJbh9g8BaSi2Q+AygI4GTJ3ewCp7KPD5KhS7B5OnCBiKEtbBKSrWMhajkYqjRKDNyOkSagJ3MUYENC5wt4pdzAAjVmTbVcYf78AAAAASUVORK5CYII="},function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALElEQVR42mNgGNbgPxomSzMuPu0NIGTgENFMFQOolhYGuxf27t37f2A0AwEAQr8eVaRMnxsAAAAASUVORK5CYII="},,,,,,function(e,n,t){e.exports=t(51)},,,,,function(e,n,t){},,,,,,function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(5),i=t.n(o),c=(t(45),t(14)),A=t(15),l=t(37),s=t(16),m=t(38),d=t(3),_=t(2),u=t(1),p=t(17),g=t.n(p),E={Beginner:{rows:9,columns:9,ceils:81,mines:10},Intermediate:{rows:16,columns:16,ceils:256,mines:40},Expert:{rows:16,columns:30,ceils:480,mines:99}},w=t(6),f=t(7),b=t(18),h=t.n(b),N=t(9),v=t.n(N),x=t(19),k=t.n(x),C=t(20),O=t.n(C),y=t(21),R=t.n(y),U=t(22),B=t.n(U),V=t(23),j=t.n(V),Q=t(24),G=t.n(Q),S=t(25),I=t.n(S),Y=t(26),K=t.n(Y),M=t(27),F=t.n(M),J=t(28),T=t.n(J),D=t(29),L=t.n(D),P=t(30),H=t.n(P),z=t(31),W=t.n(z),q=t(32),Z=t.n(q),X=t(33),$=t.n(X),ee=t(34),ne=t.n(ee),te=t(4),ae=t.n(te);function re(){var e=Object(w.a)(["\n  user-select: none;\n  display: inline-block;\n  .mine__drop-downs {\n    position: absolute;\n    display: flex;\n    height: 20px;\n  }\n  .mine__drop-down {\n    position: relative;\n    z-index: 1;\n  }\n  .mine__drop-down__title {\n    padding: 0 5px;\n    height: 100%;\n    line-height: 20px;\n    font-size: 11px;\n    color: white;\n    background-color: #1660e8;\n  }\n  .mine__drop-down__menu {\n    background-color: white;\n    position: absolute;\n    box-shadow: 2px 2px 1px rgb(100, 100, 100);\n    border: 1px solid gray;\n    padding: 2px;\n    display: grid;\n    grid-template-columns: 18px auto auto 15px;\n    line-height: 18px;\n    font-size: 11px;\n  }\n  .mine__drop-down__row {\n    display: contents;\n    &:hover > * {\n      background: #e99f17;\n      filter: invert(100%);\n    }\n  }\n  .mine__drop-down__separator {\n    grid-column: 1 / 5;\n    height: 1px;\n    background-color: gray;\n    margin: 3px 1px;\n  }\n  .mine__drop-down__check {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .mine__drop-down__arrow {\n  }\n  .mine__drop-down__hot-key {\n    padding-left: 5px;\n  }\n  .mine__drop-down__text {\n    white-space: nowrap;\n  }\n  .mine__top-bar {\n    position: relative;\n    display: flex;\n    height: 20px;\n    background-color: rgb(236, 233, 216);\n  }\n  .mine__top-bar__text {\n    padding: 0 5px;\n    height: 100%;\n    line-height: 20px;\n    font-size: 11px;\n    &:hover {\n      color: white;\n      background-color: #0b61ff;\n    }\n  }\n  .mine__content {\n    border-left: rgb(245, 245, 245) solid 3px;\n    border-top: rgb(245, 245, 245) solid 3px;\n    background-color: rgb(192, 192, 192);\n    padding: 5px;\n  }\n  .mine__score-bar {\n    height: 34px;\n    border-radius: 1px;\n    border-top: rgb(128, 128, 128) solid 2px;\n    border-left: rgb(128, 128, 128) solid 2px;\n    border-right: rgb(245, 245, 245) solid 2px;\n    border-bottom: rgb(245, 245, 245) solid 2px;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 3px 7px 3px 4px;\n  }\n  .mine__digits__outer {\n    background: black;\n    width: 42px;\n    height: 100%;\n    color: red;\n    border-width: 0 1px 1px 0;\n    border-style: solid;\n    border-color: #fff;\n    font-size: 22px;\n    line-height: 22px;\n    text-align: right;\n  }\n  .mine__face__outer {\n    width: 24px;\n    height: 24px;\n    border-top: 1px solid rgb(128, 128, 128);\n    border-left: 1px solid rgb(128, 128, 128);\n    border-radius: 2px;\n  }\n  .mine__face {\n    border-radius: 2px;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgb(192, 192, 192);\n    border-width: 2px;\n    border-style: solid;\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\n      rgb(245, 245, 245);\n    outline: none;\n    &:active:hover {\n      border-width: 1px;\n      border-color: rgb(128, 128, 128);\n      img {\n        pointer-events: none;\n        transform: translate(1px, 1px);\n      }\n      img:nth-child(1) {\n        display: none;\n      }\n      img:nth-child(2) {\n        display: block;\n      }\n    }\n    img:nth-child(2) {\n      display: none;\n    }\n  }\n  .mine__content__inner {\n    display: grid;\n    grid-template-columns: repeat(",", 16px);\n    grid-template-rows: repeat(",", 16px);\n    border-top: rgb(128, 128, 128) solid 3px;\n    border-left: rgb(128, 128, 128) solid 3px;\n    border-right: rgb(245, 245, 245) solid 3px;\n    border-bottom: rgb(245, 245, 245) solid 3px;\n  }\n  .mine__ceil {\n    position: relative;\n    img {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]);return re=function(){return e},e}function oe(){var e=Object(w.a)(["\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(128, 128, 128) solid 1px;\n  border-top: rgb(128, 128, 128) solid 1px;\n"]);return oe=function(){return e},e}function ie(){var e=Object(w.a)(["\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(245, 245, 245) solid 2px;\n  border-top: rgb(245, 245, 245) solid 2px;\n  border-right: rgb(128, 128, 128) solid 2px;\n  border-bottom: rgb(128, 128, 128) solid 2px;\n"]);return ie=function(){return e},e}function ce(e){var n=e.ceils,t=e.onLeftClickCeil,a=e.onRightClickCeil;return n.map(function(e,n){return r.a.createElement(pe,{key:n,state:e.state,index:n,onLeftClick:t,onRightClick:a},function(e){var n=e.state,t=e.minesAround;switch(n){case"open":return r.a.createElement(de,{mines:t});case"unknown":return r.a.createElement(_e,null);case"flag":return r.a.createElement(me,null);case"misflagged":return r.a.createElement(se,null);case"mine":return r.a.createElement(ue,null);case"die":return r.a.createElement(Ae,null);default:return r.a.createElement(le,null)}}(e))})}var Ae=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement("img",{alt:"death",src:Z.a}))},le=function(){return r.a.createElement(ge,null)},se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement("img",{alt:"misFlagged",src:$.a}))},me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null),r.a.createElement("img",{alt:"flag",src:H.a}))},de=function(e){var n,t=e.mines;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement("img",{alt:"mines-around",src:(n=t,[R.a,B.a,j.a,G.a,I.a,K.a,F.a,T.a,L.a][n])}))},_e=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null),r.a.createElement("img",{alt:"question",src:ne.a}))},ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement("img",{alt:"mine",src:W.a}))};function pe(e){var n=e.children,t=e.index,a=e.onLeftClick,o=e.onRightClick;return r.a.createElement("div",{className:"mine__ceil",onClick:function(){a(t)},onContextMenu:function(e){e.preventDefault(),o(t)}},n)}var ge=f.a.div(ie()),Ee=f.a.div(oe()),we=Object(f.a)(function(e){var n=e.ceils,t=e.className,o=e.changeCeilState,i=e.onReset,c=e.openCeil,A=e.mines,l=e.status,s=e.seconds,m=e.onClose,_=e.difficulty,u=Object(a.useRef)(null),p=Object(a.useState)(!1),g=Object(d.a)(p,2),E=g[0],w=g[1],f=Object(a.useState)(null),b=Object(d.a)(f,2),N=b[0],x=b[1];function C(){w(!1)}function y(e){e.target.closest(".mine__top-bar__text")||x(null)}function R(e){N&&x(e)}return Object(a.useEffect)(function(){return window.addEventListener("mouseup",C),window.addEventListener("click",y),function(){window.removeEventListener("mouseup",C),window.removeEventListener("click",y)}},[]),r.a.createElement("div",{className:t},r.a.createElement("div",{className:"mine__drop-downs"},r.a.createElement("div",{style:{visibility:"game"===N?"visible":"hidden"},className:"mine__drop-down"},r.a.createElement("div",{className:"mine__drop-down__title"},"Game"),r.a.createElement("div",{className:"mine__drop-down__menu"},r.a.createElement("div",{className:"mine__drop-down__row",onClick:function(){return i()}},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("div",{className:"mine__drop-down__text"},"New"),r.a.createElement("span",{className:"mine__drop-down__hot-key"},"F2"),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__separator"}),r.a.createElement("div",{className:"mine__drop-down__row",onClick:function(){return i("Beginner")}},r.a.createElement("div",{className:"mine__drop-down__check"},"Beginner"===_&&r.a.createElement("img",{src:ae.a,alt:"checked"})),r.a.createElement("span",null,"Beginner"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row",onClick:function(){return i("Intermediate")}},r.a.createElement("div",{className:"mine__drop-down__check"},"Intermediate"===_&&r.a.createElement("img",{src:ae.a,alt:"checked"})),r.a.createElement("span",null,"Intermediate"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row",onClick:function(){return i("Expert")}},r.a.createElement("div",{className:"mine__drop-down__check"},"Expert"===_&&r.a.createElement("img",{src:ae.a,alt:"checked"})),r.a.createElement("span",null,"Expert"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("span",null,"Custom..."),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__separator"}),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"},r.a.createElement("img",{src:ae.a,alt:"checked"})),r.a.createElement("span",null,"Marks (?)"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"},r.a.createElement("img",{src:ae.a,alt:"checked"})),r.a.createElement("span",null,"Color"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("span",null,"Sound"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__separator"}),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("span",null,"Best Times..."),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__separator"}),r.a.createElement("div",{className:"mine__drop-down__row",onClick:m},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("span",null,"Exit"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})))),r.a.createElement("div",{style:{visibility:"help"===N?"visible":"hidden"},className:"mine__drop-down"},r.a.createElement("div",{className:"mine__drop-down__title"},"Help"),r.a.createElement("div",{className:"mine__drop-down__menu"},r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("div",{className:"mine__drop-down__text"},"Contents"),r.a.createElement("span",{className:"mine__drop-down__hot-key"},"F1"),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("div",{className:"mine__drop-down__text"},"Search for Help on..."),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("div",{className:"mine__drop-down__text"},"Using Help"),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"})),r.a.createElement("div",{className:"mine__drop-down__separator"}),r.a.createElement("div",{className:"mine__drop-down__row"},r.a.createElement("div",{className:"mine__drop-down__check"}),r.a.createElement("div",{className:"mine__drop-down__text"},"About Minesweeper..."),r.a.createElement("span",{className:"mine__drop-down__hot-key"}),r.a.createElement("div",{className:"mine__drop-down__arrow"}))))),r.a.createElement("div",{className:"mine__top-bar"},r.a.createElement("div",{onClick:function(){return x("game")},onMouseOver:function(){return R("game")},className:"mine__top-bar__text"},"Game"),r.a.createElement("div",{onClick:function(){return x("help")},onMouseOver:function(){return R("help")},className:"mine__top-bar__text"},"Help")),r.a.createElement("section",{className:"mine__content",onMouseDown:function(e){u.current.contains(e.target)||"won"===l||"died"===l||w(!0)}},r.a.createElement("div",{className:"mine__score-bar"},r.a.createElement("div",{className:"mine__digits__outer"},A-n.filter(function(e){return"flag"===e.state||"misflagged"===e.state}).length),r.a.createElement("div",{className:"mine__face__outer"},r.a.createElement("button",{ref:u,className:"mine__face",onClick:function(){return i()}},function(){if(E)return r.a.createElement("img",{alt:"ohh",src:O.a});switch(l){case"died":return r.a.createElement("img",{alt:"dead",src:h.a});case"won":return r.a.createElement("img",{alt:"win",src:k.a});default:return r.a.createElement("img",{alt:"smile",src:v.a})}}(),r.a.createElement("img",{alt:"smile",src:v.a}))),r.a.createElement("div",{className:"mine__digits__outer"},s)),r.a.createElement("div",{className:"mine__content__inner"},r.a.createElement(ce,{ceils:n,onLeftClickCeil:c,onRightClickCeil:o}))))})(re(),function(e){return e.columns},function(e){return e.rows});function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Beginner";return Object(u.a)({difficulty:e,status:"new"},function(e){var n=e.rows,t=e.columns,a=e.mines,r=Array(n*t).fill().map(function(e){return{state:"cover",minesAround:0}});return{rows:n,columns:t,ceils:r,mines:a}}(E[e]))}function be(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"CLEAR_MAP":return fe(n.payload||e.difficulty);case"START_GAME":var t=n.payload;return Object(u.a)({},e,function(e,n){var t=e.rows,a=e.columns,r=e.mines,o=e.exclude,i=n.map(function(e){return Object(u.a)({},e)});if(t*a!==i.length)throw new Error("rows and columns not equal to ceils");var c=Object(_.a)(Array(t*a).keys());return g()(c.filter(function(e){return e!==o}),r).forEach(function(e){i[e].minesAround=-10,he(e,t,a).forEach(function(e){i[e].minesAround+=1})}),{rows:t,columns:a,ceils:i,mines:r}}(Object(u.a)({},E[e.difficulty],{exclude:t}),e.ceils),{status:"started"});case"OPEN_CEIL":var a=function(e,n){var t=e.rows,a=e.columns,r=e.ceils.map(function(e){return Object(u.a)({},e,{walked:!1})});return function e(n){var o=r[n];if(o.walked||o.minesAround<0||"flag"===o.state)return[];o.walked=!0;if(o.minesAround>0)return[n];return[n].concat(Object(_.a)(he(n,t,a).reduce(function(n,t){return[].concat(Object(_.a)(n),Object(_.a)(e(t)))},[])))}(n)}(e,n.payload),r=Object(_.a)(e.ceils);return a.forEach(function(e){var n=r[e];r[e]=Object(u.a)({},n,{state:"open"})}),Object(u.a)({},e,{ceils:r});case"CHANGE_CEIL_STATE":var o,i=n.payload,c=Object(_.a)(e.ceils),A=e.ceils[i];switch(A.state){case"cover":o="flag";break;case"flag":o="unknown";break;case"unknown":o="cover";break;default:throw new Error("Unknown ceil state ".concat(A.state))}return c[i]=Object(u.a)({},A,{state:o}),Object(u.a)({},e,{ceils:c});case"GAME_OVER":var l=e.ceils.map(function(e){return e.minesAround<0&&"flag"!==e.state?Object(u.a)({},e,{state:"mine"}):"flag"===e.state&&e.minesAround>=0?Object(u.a)({},e,{state:"misflagged"}):e});return l[n.payload].state="die",Object(u.a)({},e,{status:"died",ceils:l});case"WON":var s=e.ceils.map(function(e){return e.minesAround>=0?Object(u.a)({},e,{state:"open"}):Object(u.a)({},e,{state:"flag"})});return Object(u.a)({},e,{status:"won",ceils:s});default:return e}}function he(e,n,t){var a=Math.floor(e/t),r=e%t;return[e-t-1,e-t,e-t+1,e-1,e+1,e+t-1,e+t,e+t+1].filter(function(e,o){return!(0===a&&o<3)&&(!(a===n-1&&o>4)&&((0!==r||![0,3,5].includes(o))&&(r!==t-1||![2,4,7].includes(o))))})}var Ne=function(e){var n=e.defaultDifficulty,t=e.onClose,o=void 0===t?function(){}:t,i=Object(a.useReducer)(be,fe(n)),c=Object(d.a)(i,2),A=c[0],l=c[1],s=function(e){var n=Object(a.useState)(0),t=Object(d.a)(n,2),r=t[0],o=t[1];function i(){o(function(e){return e+1})}return Object(a.useEffect)(function(){var n;switch(e){case"started":n=setInterval(i,1e3);break;case"new":o(0)}return function(){return clearInterval(n)}},[e]),r}(A.status);return Object(a.useEffect)(function(){"started"===A.status&&0===A.ceils.filter(function(e){return"open"!==e.state}).filter(function(e){return e.minesAround>=0}).length&&l({type:"WON"})}),r.a.createElement(we,Object.assign({},A,{onClose:o,changeCeilState:function(e){"open"===A.ceils[e].state||["won","died"].includes(A.status)||l({type:"CHANGE_CEIL_STATE",payload:e})},openCeil:function(e){switch(A.status){case"new":l({type:"START_GAME",payload:e}),l({type:"OPEN_CEIL",payload:e});break;case"started":var n=A.ceils[e];if(["flag","open"].includes(n.state))break;n.minesAround<0?l({type:"GAME_OVER",payload:e}):l({type:"OPEN_CEIL",payload:e});break;default:console.log(A.status)}},onReset:function(e){l({type:"CLEAR_MAP",payload:e})},seconds:s}))},ve=function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){return r.a.createElement(Ne,null)}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[40,1,2]]]);
//# sourceMappingURL=main.d254da8c.chunk.js.map